import{r as d,a as at,g as et,i as ot,c as F,k as L,s as V,j as e,d as g,e as rt,l as nt,o as xt,R as H,U as yt,M as Ct,B as Ot,f as jt,n as R,V as U,W as w,X as G,h as B,t as $t,q as Pt,v as It,w as Z,x as b,Q as Rt,Y as Bt,C as _,T as z,Z as Q,D as q,_ as Mt,$ as X,a0 as Y,a1 as zt,y as Tt,L as kt}from"./index-ZK5s_Wys.js";import{g as Lt}from"./auth-CWwGZ6HQ.js";import{M as Vt}from"./Menu-ZUp_UOV4.js";import"./axios-BH6LnKjt.js";import"./index-Dq7h7Pqt.js";const st=t=>{const a=d.useRef({});return d.useEffect(()=>{a.current=t}),a.current};function St(t){const{badgeContent:a,invisible:o=!1,max:r=99,showZero:p=!1}=t,u=st({badgeContent:a,max:r});let s=o;o===!1&&a===0&&!p&&(s=!0);const{badgeContent:i,max:n=r}=s?u:t,f=i&&Number(i)>n?`${n}+`:i;return{badgeContent:i,invisible:s,max:n,displayValue:f}}function Dt(t){return et("MuiBadge",t)}const v=at("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),T=10,k=4,Nt=t=>{const{color:a,anchorOrigin:o,invisible:r,overlap:p,variant:u,classes:s={}}=t,i={root:["root"],badge:["badge",u,r&&"invisible",`anchorOrigin${g(o.vertical)}${g(o.horizontal)}`,`anchorOrigin${g(o.vertical)}${g(o.horizontal)}${g(p)}`,`overlap${g(p)}`,a!=="default"&&`color${g(a)}`]};return rt(i,Dt,s)},At=V("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Wt=V("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,a)=>{const{ownerState:o}=t;return[a.badge,a[o.variant],a[`anchorOrigin${g(o.anchorOrigin.vertical)}${g(o.anchorOrigin.horizontal)}${g(o.overlap)}`],o.color!=="default"&&a[`color${g(o.color)}`],o.invisible&&a.invisible]}})(nt(({theme:t})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:T*2,lineHeight:1,padding:"0 6px",height:T*2,borderRadius:T,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.entries(t.palette).filter(xt(["contrastText"])).map(([a])=>({props:{color:a},style:{backgroundColor:(t.vars||t).palette[a].main,color:(t.vars||t).palette[a].contrastText}})),{props:{variant:"dot"},style:{borderRadius:k,height:k*2,minWidth:k*2,padding:0}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${v.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${v.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${v.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${v.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${v.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="right"&&a.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${v.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="top"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${v.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:a})=>a.anchorOrigin.vertical==="bottom"&&a.anchorOrigin.horizontal==="left"&&a.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${v.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]})));function J(t){return{vertical:(t==null?void 0:t.vertical)??"top",horizontal:(t==null?void 0:t.horizontal)??"right"}}const Et=d.forwardRef(function(a,o){const r=ot({props:a,name:"MuiBadge"}),{anchorOrigin:p,className:u,classes:s,component:i,components:n={},componentsProps:f={},children:O,overlap:m="rectangular",color:x="default",invisible:j=!1,max:y=99,badgeContent:h,slots:c,slotProps:l,showZero:C=!1,variant:$="standard",...I}=r,{badgeContent:S,invisible:it,max:lt,displayValue:ct}=St({max:y,invisible:j,badgeContent:h,showZero:C}),dt=st({anchorOrigin:J(p),color:x,overlap:m,variant:$,badgeContent:h}),D=it||S==null&&$!=="dot",{color:pt=x,overlap:gt=m,anchorOrigin:ut,variant:N=$}=D?dt:r,ft=J(ut),A=N!=="dot"?ct:void 0,M={...r,badgeContent:S,invisible:D,max:lt,displayValue:A,showZero:C,anchorOrigin:ft,color:pt,overlap:gt,variant:N},W=Nt(M),E={slots:{root:(c==null?void 0:c.root)??n.Root,badge:(c==null?void 0:c.badge)??n.Badge},slotProps:{root:(l==null?void 0:l.root)??f.root,badge:(l==null?void 0:l.badge)??f.badge}},[vt,mt]=F("root",{elementType:At,externalForwardedProps:{...E,...I},ownerState:M,className:L(W.root,u),ref:o,additionalProps:{as:i}}),[ht,bt]=F("badge",{elementType:Wt,externalForwardedProps:E,ownerState:M,className:W.badge});return e.jsxs(vt,{...mt,children:[O,e.jsx(ht,{...bt,children:A})]})});function Ft(t){return et("MuiMenuItem",t)}const P=at("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Ht=(t,a)=>{const{ownerState:o}=t;return[a.root,o.dense&&a.dense,o.divider&&a.divider,!o.disableGutters&&a.gutters]},Ut=t=>{const{disabled:a,dense:o,divider:r,disableGutters:p,selected:u,classes:s}=t,n=rt({root:["root",o&&"dense",a&&"disabled",!p&&"gutters",r&&"divider",u&&"selected"]},Ft,s);return{...s,...n}},wt=V(Ot,{shouldForwardProp:t=>jt(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Ht})(nt(({theme:t})=>({...t.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${P.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:R(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${P.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:R(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${P.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:R(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:R(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${P.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${P.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${G.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${G.inset}`]:{marginLeft:52},[`& .${w.root}`]:{marginTop:0,marginBottom:0},[`& .${w.inset}`]:{paddingLeft:36},[`& .${U.root}`]:{minWidth:36},variants:[{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.divider,style:{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:a})=>!a.dense,style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:a})=>a.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...t.typography.body2,[`& .${U.root} svg`]:{fontSize:"1.25rem"}}}]}))),K=d.forwardRef(function(a,o){const r=ot({props:a,name:"MuiMenuItem"}),{autoFocus:p=!1,component:u="li",dense:s=!1,divider:i=!1,disableGutters:n=!1,focusVisibleClassName:f,role:O="menuitem",tabIndex:m,className:x,...j}=r,y=d.useContext(H),h=d.useMemo(()=>({dense:s||y.dense||!1,disableGutters:n}),[y.dense,s,n]),c=d.useRef(null);yt(()=>{p&&c.current&&c.current.focus()},[p]);const l={...r,dense:h.dense,divider:i,disableGutters:n},C=Ut(r),$=Ct(c,o);let I;return r.disabled||(I=m!==void 0?m:-1),e.jsx(H.Provider,{value:h,children:e.jsx(wt,{ref:$,role:O,tabIndex:I,component:u,focusVisibleClassName:L(C.focusVisible,f),className:L(C.root,x),...j,ownerState:l,classes:C})})}),Gt=B(e.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Zt=B(e.jsx("path",{d:"M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3z"})),_t=B(e.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),tt=B(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Kt=()=>{const{logout:t}=$t(),a=Pt(),o=It();Z(o.breakpoints.up("md")),Z(o.breakpoints.down("sm"));const[r,p]=d.useState(0),[u,s]=d.useState(null),[i,n]=d.useState(null),[f,O]=d.useState(null),[m,x]=d.useState(!0);d.useEffect(()=>{Lt().then(l=>O(l)).catch(()=>{}).finally(()=>x(!1))},[]);const j=()=>{t(),a("/login")},y=l=>s(l.currentTarget),h=l=>n(l.currentTarget),c=()=>n(null);return m?e.jsx(b,{sx:{display:"flex",justifyContent:"center",mt:4},children:e.jsx(Rt,{})}):e.jsxs(b,{sx:{background:o.palette.mode==="light"?"linear-gradient(to bottom, rgba(25, 118, 210, 0.05), rgba(255, 255, 255, 1) 200px)":"linear-gradient(to bottom, rgba(0, 30, 60, 0.1), rgba(15, 15, 15, 1) 200px)",minHeight:"100vh",pt:2,pb:6},children:[e.jsx(Bt,{elevation:1,sx:{borderRadius:0,mb:3,position:"relative",zIndex:10},children:e.jsx(_,{maxWidth:"lg",children:e.jsxs(b,{sx:{display:"flex",justifyContent:"space-between",py:1.5},children:[e.jsxs(b,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Zt,{color:"primary",sx:{fontSize:32,mr:1}}),e.jsx(z,{variant:"h6",component:"div",sx:{fontWeight:600,display:{xs:"none",sm:"block"}},children:"MedTrack"})]}),e.jsxs(b,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(Q,{title:"Notifications",children:e.jsx(q,{size:"large",onClick:y,children:e.jsx(Et,{badgeContent:3,color:"error",children:e.jsx(_t,{})})})}),e.jsx(Q,{title:"Profile",children:e.jsx(q,{size:"large",onClick:h,sx:{ml:1},children:e.jsx(Mt,{sx:{width:32,height:32,bgcolor:"primary.main"},children:e.jsx(tt,{})})})})]})]})})}),e.jsxs(Vt,{anchorEl:i,open:!!i,onClose:c,children:[e.jsxs(K,{onClick:()=>{a("/profile"),c()},children:[e.jsx(X,{children:e.jsx(tt,{fontSize:"small"})}),e.jsx(Y,{primary:"Profile"})]}),e.jsxs(K,{onClick:j,children:[e.jsx(X,{children:e.jsx(zt,{fontSize:"small"})}),e.jsx(Y,{primary:"Logout"})]})]}),e.jsx(_,{maxWidth:"lg",children:e.jsxs(b,{sx:{mb:4,display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"center"},children:[e.jsxs(b,{children:[e.jsxs(z,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:.5},children:["Welcome, ",f==null?void 0:f.email.split("@")[0]]}),e.jsx(z,{variant:"body1",color:"text.secondary",children:new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsx(Tt,{component:kt,to:"/drugs",variant:"contained",startIcon:e.jsx(Gt,{}),sx:{mt:{xs:2,sm:0}},children:"Browse Drugs"})]})})]})};export{Kt as default};
