import{r as c,a as pt,g as dt,i as _,c as D,k as q,s as L,j as r,d as l,e as X,l as Y,o as ht,P as mt,Q as ut,h as v,t as ft,q as vt,v as xt,w as N,x as f,O as bt,R as yt,C as V,T as R,U as E,A as H,V as jt,W as Ot,X as U,Y as F,y as Ct,L as It}from"./index-CkHtwYmJ.js";import{g as Pt}from"./auth-CWwGZ6HQ.js";import"./axios-BH6LnKjt.js";import"./index-Dq7h7Pqt.js";const G=o=>{const t=c.useRef({});return c.useEffect(()=>{t.current=o}),t.current};function Rt(o){const{badgeContent:t,invisible:n=!1,max:a=99,showZero:p=!1}=o,h=G({badgeContent:t,max:a});let g=n;n===!1&&t===0&&!p&&(g=!0);const{badgeContent:e,max:s=a}=g?h:o,m=e&&Number(e)>s?`${s}+`:e;return{badgeContent:e,invisible:g,max:s,displayValue:m}}function zt(o){return dt("MuiBadge",o)}const u=pt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),z=10,B=4,Bt=o=>{const{color:t,anchorOrigin:n,invisible:a,overlap:p,variant:h,classes:g={}}=o,e={root:["root"],badge:["badge",h,a&&"invisible",`anchorOrigin${l(n.vertical)}${l(n.horizontal)}`,`anchorOrigin${l(n.vertical)}${l(n.horizontal)}${l(p)}`,`overlap${l(p)}`,t!=="default"&&`color${l(t)}`]};return X(e,zt,g)},Lt=L("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),Tt=L("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(o,t)=>{const{ownerState:n}=o;return[t.badge,t[n.variant],t[`anchorOrigin${l(n.anchorOrigin.vertical)}${l(n.anchorOrigin.horizontal)}${l(n.overlap)}`],n.color!=="default"&&t[`color${l(n.color)}`],n.invisible&&t.invisible]}})(Y(({theme:o})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(12),minWidth:z*2,lineHeight:1,padding:"0 6px",height:z*2,borderRadius:z,zIndex:1,transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.enteringScreen}),variants:[...Object.entries(o.palette).filter(ht(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(o.vars||o).palette[t].main,color:(o.vars||o).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:B,height:B*2,minWidth:B*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${u.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${u.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${u.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${u.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${u.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${u.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${u.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${u.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.leavingScreen})}}]})));function w(o){return{vertical:(o==null?void 0:o.vertical)??"top",horizontal:(o==null?void 0:o.horizontal)??"right"}}const $t=c.forwardRef(function(t,n){const a=_({props:t,name:"MuiBadge"}),{anchorOrigin:p,className:h,classes:g,component:e,components:s={},componentsProps:m={},children:j,overlap:x="rectangular",color:b="default",invisible:O=!1,max:C=99,badgeContent:y,slots:d,slotProps:i,showZero:T=!1,variant:I="standard",...J}=a,{badgeContent:$,invisible:K,max:tt,displayValue:ot}=Rt({max:C,invisible:O,badgeContent:y,showZero:T}),rt=G({anchorOrigin:w(p),color:b,overlap:x,variant:I,badgeContent:y}),M=K||$==null&&I!=="dot",{color:nt=b,overlap:et=x,anchorOrigin:at,variant:k=I}=M?rt:a,it=w(at),S=k!=="dot"?ot:void 0,P={...a,badgeContent:$,invisible:M,max:tt,displayValue:S,showZero:T,anchorOrigin:it,color:nt,overlap:et,variant:k},A=Bt(P),W={slots:{root:(d==null?void 0:d.root)??s.Root,badge:(d==null?void 0:d.badge)??s.Badge},slotProps:{root:(i==null?void 0:i.root)??m.root,badge:(i==null?void 0:i.badge)??m.badge}},[st,lt]=D("root",{elementType:Lt,externalForwardedProps:{...W,...J},ownerState:P,className:q(A.root,h),ref:n,additionalProps:{as:e}}),[ct,gt]=D("badge",{elementType:Tt,externalForwardedProps:W,ownerState:P,className:A.badge});return r.jsxs(st,{...lt,children:[j,r.jsx(ct,{...gt,children:S})]})}),Mt=o=>{const{alignItems:t,classes:n}=o;return X({root:["root",t==="flex-start"&&"alignItemsFlexStart"]},ut,n)},kt=L("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:n}=o;return[t.root,n.alignItems==="flex-start"&&t.alignItemsFlexStart]}})(Y(({theme:o})=>({minWidth:56,color:(o.vars||o).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),Q=c.forwardRef(function(t,n){const a=_({props:t,name:"MuiListItemIcon"}),{className:p,...h}=a,g=c.useContext(mt),e={...a,alignItems:g.alignItems},s=Mt(e);return r.jsx(kt,{className:q(s.root,p),ownerState:e,ref:n,...h})}),St=v(r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),At=v(r.jsx("path",{d:"M21 5h-2.64l1.14-3.14L17.15 1l-1.46 4H3v2l2 6-2 6v2h18v-2l-2-6 2-6zm-5 9h-3v3h-2v-3H8v-2h3V9h2v3h3z"})),Wt=v(r.jsx("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"})),Dt=v(r.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),Z=v(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Ut=()=>{const{logout:o}=ft(),t=vt(),n=xt();N(n.breakpoints.up("md")),N(n.breakpoints.down("sm"));const[a,p]=c.useState(0),[h,g]=c.useState(null),[e,s]=c.useState(null),[m,j]=c.useState(null),[x,b]=c.useState(!0);c.useEffect(()=>{Pt().then(i=>j(i)).catch(()=>{}).finally(()=>b(!1))},[]);const O=()=>{o(),t("/login")},C=i=>g(i.currentTarget),y=i=>s(i.currentTarget),d=()=>s(null);return x?r.jsx(f,{sx:{display:"flex",justifyContent:"center",mt:4},children:r.jsx(bt,{})}):r.jsxs(f,{sx:{background:n.palette.mode==="light"?"linear-gradient(to bottom, rgba(25, 118, 210, 0.05), rgba(255, 255, 255, 1) 200px)":"linear-gradient(to bottom, rgba(0, 30, 60, 0.1), rgba(15, 15, 15, 1) 200px)",minHeight:"100vh",pt:2,pb:6},children:[r.jsx(yt,{elevation:1,sx:{borderRadius:0,mb:3,position:"relative",zIndex:10},children:r.jsx(V,{maxWidth:"lg",children:r.jsxs(f,{sx:{display:"flex",justifyContent:"space-between",py:1.5},children:[r.jsxs(f,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(At,{color:"primary",sx:{fontSize:32,mr:1}}),r.jsx(R,{variant:"h6",component:"div",sx:{fontWeight:600,display:{xs:"none",sm:"block"}},children:"MedTrack"})]}),r.jsxs(f,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(E,{title:"Notifications",children:r.jsx(H,{size:"large",onClick:C,children:r.jsx($t,{badgeContent:3,color:"error",children:r.jsx(Dt,{})})})}),r.jsx(E,{title:"Profile",children:r.jsx(H,{size:"large",onClick:y,sx:{ml:1},children:r.jsx(jt,{sx:{width:32,height:32,bgcolor:"primary.main"},children:r.jsx(Z,{})})})})]})]})})}),r.jsxs(Ot,{anchorEl:e,open:!!e,onClose:d,children:[r.jsxs(U,{onClick:()=>{t("/profile"),d()},children:[r.jsx(Q,{children:r.jsx(Z,{fontSize:"small"})}),r.jsx(F,{primary:"Profile"})]}),r.jsxs(U,{onClick:O,children:[r.jsx(Q,{children:r.jsx(Wt,{fontSize:"small"})}),r.jsx(F,{primary:"Logout"})]})]}),r.jsx(V,{maxWidth:"lg",children:r.jsxs(f,{sx:{mb:4,display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"center"},children:[r.jsxs(f,{children:[r.jsxs(R,{variant:"h4",component:"h1",sx:{fontWeight:700,mb:.5},children:["Welcome, ",m==null?void 0:m.email.split("@")[0]]}),r.jsx(R,{variant:"body1",color:"text.secondary",children:new Date().toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsx(Ct,{component:It,to:"/drugs",variant:"contained",startIcon:r.jsx(St,{}),sx:{mt:{xs:2,sm:0}},children:"Browse Drugs"})]})})]})};export{Ut as default};
