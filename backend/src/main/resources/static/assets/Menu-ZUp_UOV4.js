import{r as u,U as xt,aN as Et,aO as J,M as kt,j as A,aP as Ct,an as Z,g as ut,a as pt,s as V,Y as Rt,i as ft,aQ as Tt,c as G,aq as Dt,k as dt,m as Ft,aR as Lt,e as ht,aS as It,aT as Ot,a3 as Kt,f as zt}from"./index-ZK5s_Wys.js";function X(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function it(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function mt(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.startsWith(e.keys.join(""))}function $(t,e,o,C,v,P){let g=!1,f=v(t,e,e?o:!1);for(;f;){if(f===t.firstChild){if(g)return!1;g=!0}const h=C?!1:f.disabled||f.getAttribute("aria-disabled")==="true";if(!f.hasAttribute("tabindex")||!mt(f,P)||h)f=v(t,f,o);else return f.focus(),!0}return!1}const Ht=u.forwardRef(function(e,o){const{actions:C,autoFocus:v=!1,autoFocusItem:P=!1,children:g,className:f,disabledItemsFocusable:h=!1,disableListWrap:E=!1,onKeyDown:R,variant:O="selectedMenu",...z}=e,i=u.useRef(null),y=u.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});xt(()=>{v&&i.current.focus()},[v]),u.useImperativeHandle(C,()=>({adjustStyleForScrollbar:(r,{direction:a})=>{const l=!i.current.style.width;if(r.clientHeight<i.current.clientHeight&&l){const M=`${Et(J(r))}px`;i.current.style[a==="rtl"?"paddingLeft":"paddingRight"]=M,i.current.style.width=`calc(100% + ${M})`}return i.current}}),[]);const H=r=>{const a=i.current,l=r.key;if(r.ctrlKey||r.metaKey||r.altKey){R&&R(r);return}const T=Z(a).activeElement;if(l==="ArrowDown")r.preventDefault(),$(a,T,E,h,X);else if(l==="ArrowUp")r.preventDefault(),$(a,T,E,h,it);else if(l==="Home")r.preventDefault(),$(a,null,E,h,X);else if(l==="End")r.preventDefault(),$(a,null,E,h,it);else if(l.length===1){const c=y.current,k=l.toLowerCase(),K=performance.now();c.keys.length>0&&(K-c.lastTime>500?(c.keys=[],c.repeating=!0,c.previousKeyMatched=!0):c.repeating&&k!==c.keys[0]&&(c.repeating=!1)),c.lastTime=K,c.keys.push(k);const D=T&&!c.repeating&&mt(T,c);c.previousKeyMatched&&(D||$(a,T,!1,h,X,c))?r.preventDefault():c.previousKeyMatched=!1}R&&R(r)},F=kt(i,o);let s=-1;u.Children.forEach(g,(r,a)=>{if(!u.isValidElement(r)){s===a&&(s+=1,s>=g.length&&(s=-1));return}r.props.disabled||(O==="selectedMenu"&&r.props.selected||s===-1)&&(s=a),s===a&&(r.props.disabled||r.props.muiSkipListHighlight||r.type.muiSkipListHighlight)&&(s+=1,s>=g.length&&(s=-1))});const w=u.Children.map(g,(r,a)=>{if(a===s){const l={};return P&&(l.autoFocus=!0),r.props.tabIndex===void 0&&O==="selectedMenu"&&(l.tabIndex=0),u.cloneElement(r,l)}return r});return A.jsx(Ct,{role:"menu",ref:F,className:f,onKeyDown:H,tabIndex:v?0:-1,...z,children:w})});function jt(t){return ut("MuiPopover",t)}pt("MuiPopover",["root","paper"]);function at(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function lt(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function ct(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function q(t){return typeof t=="function"?t():t}const Nt=t=>{const{classes:e}=t;return ht({root:["root"],paper:["paper"]},jt,e)},At=V(It,{name:"MuiPopover",slot:"Root"})({}),Pt=V(Rt,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Wt=u.forwardRef(function(e,o){const C=ft({props:e,name:"MuiPopover"}),{action:v,anchorEl:P,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:f,anchorReference:h="anchorEl",children:E,className:R,container:O,elevation:z=8,marginThreshold:i=16,open:y,PaperProps:H={},slots:F={},slotProps:s={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:r,transitionDuration:a="auto",TransitionProps:l={},disableScrollLock:M=!1,...T}=C,c=u.useRef(),k={...C,anchorOrigin:g,anchorReference:h,elevation:z,marginThreshold:i,transformOrigin:w,TransitionComponent:r,transitionDuration:a,TransitionProps:l},K=Nt(k),D=u.useCallback(()=>{if(h==="anchorPosition")return f;const n=q(P),d=(n&&n.nodeType===1?n:Z(c.current).body).getBoundingClientRect();return{top:d.top+at(d,g.vertical),left:d.left+lt(d,g.horizontal)}},[P,g.horizontal,g.vertical,f,h]),L=u.useCallback(n=>({vertical:at(n,w.vertical),horizontal:lt(n,w.horizontal)}),[w.horizontal,w.vertical]),Y=u.useCallback(n=>{const m={width:n.offsetWidth,height:n.offsetHeight},d=L(m);if(h==="none")return{top:null,left:null,transformOrigin:ct(d)};const U=D();let j=U.top-d.vertical,N=U.left-d.horizontal;const et=j+m.height,ot=N+m.width,rt=J(q(P)),nt=rt.innerHeight-i,st=rt.innerWidth-i;if(i!==null&&j<i){const x=j-i;j-=x,d.vertical+=x}else if(i!==null&&et>nt){const x=et-nt;j-=x,d.vertical+=x}if(i!==null&&N<i){const x=N-i;N-=x,d.horizontal+=x}else if(ot>st){const x=ot-st;N-=x,d.horizontal+=x}return{top:`${Math.round(j)}px`,left:`${Math.round(N)}px`,transformOrigin:ct(d)}},[P,h,D,L,i]),[B,_]=u.useState(y),S=u.useCallback(()=>{const n=c.current;if(!n)return;const m=Y(n);m.top!==null&&n.style.setProperty("top",m.top),m.left!==null&&(n.style.left=m.left),n.style.transformOrigin=m.transformOrigin,_(!0)},[Y]);u.useEffect(()=>(M&&window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)),[P,M,S]);const Q=()=>{S()},I=()=>{_(!1)};u.useEffect(()=>{y&&S()}),u.useImperativeHandle(v,()=>y?{updatePosition:()=>{S()}}:null,[y,S]),u.useEffect(()=>{if(!y)return;const n=Tt(()=>{S()}),m=J(q(P));return m.addEventListener("resize",n),()=>{n.clear(),m.removeEventListener("resize",n)}},[P,y,S]);let p=a;const b={slots:{transition:r,...F},slotProps:{transition:l,paper:H,...s}},[W,gt]=G("transition",{elementType:Dt,externalForwardedProps:b,ownerState:k,getSlotProps:n=>({...n,onEntering:(m,d)=>{var U;(U=n.onEntering)==null||U.call(n,m,d),Q()},onExited:m=>{var d;(d=n.onExited)==null||d.call(n,m),I()}}),additionalProps:{appear:!0,in:y}});a==="auto"&&!W.muiSupportAuto&&(p=void 0);const yt=O||(P?Z(q(P)).body:void 0),[tt,{slots:bt,slotProps:wt,...vt}]=G("root",{ref:o,elementType:At,externalForwardedProps:{...b,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:F.backdrop},slotProps:{backdrop:Ft(typeof s.backdrop=="function"?s.backdrop(k):s.backdrop,{invisible:!0})},container:yt,open:y},ownerState:k,className:dt(K.root,R)}),[Mt,St]=G("paper",{ref:c,className:K.paper,elementType:Pt,externalForwardedProps:b,shouldForwardComponentProp:!0,additionalProps:{elevation:z,style:B?void 0:{opacity:0}},ownerState:k});return A.jsx(tt,{...vt,...!Lt(tt)&&{slots:bt,slotProps:wt,disableScrollLock:M},children:A.jsx(W,{...gt,timeout:p,children:A.jsx(Mt,{...St,children:E})})})});function Ut(t){return ut("MuiMenu",t)}pt("MuiMenu",["root","paper","list"]);const $t={vertical:"top",horizontal:"right"},Gt={vertical:"top",horizontal:"left"},Vt=t=>{const{classes:e}=t;return ht({root:["root"],paper:["paper"],list:["list"]},Ut,e)},Yt=V(Wt,{shouldForwardProp:t=>zt(t)||t==="classes",name:"MuiMenu",slot:"Root"})({}),_t=V(Pt,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),qt=V(Ht,{name:"MuiMenu",slot:"List"})({outline:0}),Qt=u.forwardRef(function(e,o){const C=ft({props:e,name:"MuiMenu"}),{autoFocus:v=!0,children:P,className:g,disableAutoFocusItem:f=!1,MenuListProps:h={},onClose:E,open:R,PaperProps:O={},PopoverClasses:z,transitionDuration:i="auto",TransitionProps:{onEntering:y,...H}={},variant:F="selectedMenu",slots:s={},slotProps:w={},...r}=C,a=Ot(),l={...C,autoFocus:v,disableAutoFocusItem:f,MenuListProps:h,onEntering:y,PaperProps:O,transitionDuration:i,TransitionProps:H,variant:F},M=Vt(l),T=v&&!f&&R,c=u.useRef(null),k=(p,b)=>{c.current&&c.current.adjustStyleForScrollbar(p,{direction:a?"rtl":"ltr"}),y&&y(p,b)},K=p=>{p.key==="Tab"&&(p.preventDefault(),E&&E(p,"tabKeyDown"))};let D=-1;u.Children.map(P,(p,b)=>{u.isValidElement(p)&&(p.props.disabled||(F==="selectedMenu"&&p.props.selected||D===-1)&&(D=b))});const L={slots:s,slotProps:{list:h,transition:H,paper:O,...w}},Y=Kt({elementType:s.root,externalSlotProps:w.root,ownerState:l,className:[M.root,g]}),[B,_]=G("paper",{className:M.paper,elementType:_t,externalForwardedProps:L,shouldForwardComponentProp:!0,ownerState:l}),[S,Q]=G("list",{className:dt(M.list,h.className),elementType:qt,shouldForwardComponentProp:!0,externalForwardedProps:L,getSlotProps:p=>({...p,onKeyDown:b=>{var W;K(b),(W=p.onKeyDown)==null||W.call(p,b)}}),ownerState:l}),I=typeof L.slotProps.transition=="function"?L.slotProps.transition(l):L.slotProps.transition;return A.jsx(Yt,{onClose:E,anchorOrigin:{vertical:"bottom",horizontal:a?"right":"left"},transformOrigin:a?$t:Gt,slots:{root:s.root,paper:B,backdrop:s.backdrop,...s.transition&&{transition:s.transition}},slotProps:{root:Y,paper:_,backdrop:typeof w.backdrop=="function"?w.backdrop(l):w.backdrop,transition:{...I,onEntering:(...p)=>{var b;k(...p),(b=I==null?void 0:I.onEntering)==null||b.call(I,...p)}}},open:R,ref:o,transitionDuration:i,ownerState:l,...r,classes:z,children:A.jsx(S,{actions:c,autoFocus:v&&(D===-1||f),autoFocusItem:T,variant:F,...Q,children:P})})});export{Qt as M};
