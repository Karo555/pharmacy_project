import{aI as p,r as n,q as j,j as r,x as g,O as y,C as c,y as t,T as s,z as f,a0 as m}from"./index-CkHtwYmJ.js";import{g as C}from"./prescription-CR_S8DG3.js";import{A as v}from"./Alert-CeTGSqaQ.js";import{C as k}from"./CardActions-CsGG2Wbr.js";import"./index-Dq7h7Pqt.js";const D=()=>{const{id:a}=p(),[e,l]=n.useState(null),[x,h]=n.useState(!0),[d,u]=n.useState(null),i=j();return n.useEffect(()=>{if(!a)return;(async()=>{try{const o=await C(Number(a));l(o)}catch(o){u(o.message||"Failed to load prescription")}finally{h(!1)}})()},[a]),x?r.jsx(g,{sx:{height:"60vh",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(y,{})}):d?r.jsxs(c,{sx:{py:4},children:[r.jsx(v,{severity:"error",children:d}),r.jsx(t,{onClick:()=>i(-1),sx:{mt:2},children:"Go Back"})]}):e?r.jsxs(c,{sx:{py:4},children:[r.jsx(t,{onClick:()=>i(-1),sx:{mb:2},children:"← Back to List"}),r.jsxs(f,{variant:"outlined",children:[r.jsxs(m,{children:[r.jsx(s,{variant:"h5",gutterBottom:!0,children:e.drugName}),r.jsxs(s,{variant:"body1",children:[r.jsx("strong",{children:"Dosage:"})," ",e.dosage]}),r.jsxs(s,{variant:"body1",children:[r.jsx("strong",{children:"Frequency:"})," ",e.frequency]}),r.jsxs(s,{variant:"body1",children:[r.jsx("strong",{children:"Issued At:"})," ",new Date(e.issuedAt).toLocaleString()]}),r.jsxs(s,{variant:"body1",children:[r.jsx("strong",{children:"Expires At:"})," ",new Date(e.expiresAt).toLocaleString()]}),r.jsxs(s,{variant:"body1",children:[r.jsx("strong",{children:"Prescription Required:"})," ",e.prescriptionRequired?"Yes":"No"]})]}),r.jsxs(k,{children:[r.jsx(t,{variant:"contained",onClick:()=>i(`/prescriptions/${e.id}/edit`),children:"Edit"}),r.jsx(t,{color:"error",onClick:()=>{},children:"Delete"})]})]})]}):r.jsxs(c,{sx:{py:4},children:[r.jsx(s,{children:"No prescription found."}),r.jsx(t,{onClick:()=>i(-1),sx:{mt:2},children:"Go Back"})]})};export{D as default};
