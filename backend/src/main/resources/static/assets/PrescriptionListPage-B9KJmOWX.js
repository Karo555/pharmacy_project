import{r as a,q as y,j as e,F as j,C as c,T as t,a4 as d,z as f,a5 as g,y as m}from"./index-ZK5s_Wys.js";import{l as v}from"./prescription-CR_S8DG3.js";import{A}from"./Alert-l4XM499c.js";import{C}from"./CardActions-ByaY6a6t.js";import"./index-Dq7h7Pqt.js";const L=()=>{const[n,l]=a.useState([]),[x,p]=a.useState(!0),[o,h]=a.useState(null),u=y();return a.useEffect(()=>{(async()=>{try{const s=await v();let i=[];Array.isArray(s)?i=s:s&&Array.isArray(s.content)?i=s.content:console.warn("Unexpected prescriptions payload shape:",s),l(i)}catch(s){h(s.message||"Failed to load prescriptions")}finally{p(!1)}})()},[]),x?e.jsx(j,{text:"Loading prescriptions..."}):o?e.jsx(c,{sx:{py:4},children:e.jsx(A,{severity:"error",children:o})}):e.jsxs(c,{sx:{py:4},children:[e.jsx(t,{variant:"h4",gutterBottom:!0,children:"Your Prescriptions"}),n.length===0?e.jsx(t,{children:"No prescriptions found."}):e.jsx(d,{container:!0,spacing:3,children:n.map(r=>e.jsx(d,{item:!0,xs:12,md:6,children:e.jsxs(f,{variant:"outlined",children:[e.jsxs(g,{children:[e.jsx(t,{variant:"h6",fontWeight:"bold",children:r.drugName}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Dosage: ",r.dosage]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Frequency: ",r.frequency]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Issued: ",new Date(r.issuedAt).toLocaleDateString()]}),e.jsxs(t,{variant:"body2",color:"text.secondary",children:["Expires: ",new Date(r.expiresAt).toLocaleDateString()]})]}),e.jsx(C,{children:e.jsx(m,{size:"small",onClick:()=>u(`/prescriptions/${r.id}`),children:"View Details"})})]})},r.id))})]})};export{L as default};
