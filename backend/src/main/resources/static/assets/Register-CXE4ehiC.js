import{g as oe,a as se,r as w,u as je,b as xe,c as _,s as U,j as e,d as H,e as te,B as ve,f as fe,h as Z,i as ge,m as Ce,k as ee,l as re,n as ie,o as le,p as ke,T as b,q as Se,t as Ie,v as Re,w as Fe,x as m,y as G,L as J,A as ze,C as Be,z as Te,S as K,I as N,D as ce,E as Q,F as Ae,G as de,H as Le}from"./index-ZK5s_Wys.js";import{a as pe}from"./index-Dq7h7Pqt.js";import{A as $e}from"./Alert-BHcqbS_G.js";import{T as Y}from"./TextField-BqMvV1-A.js";import{E as Me,V as ue,a as me,b as he}from"./VpnKeyOutlined-BdxaI0qR.js";import"./Alert-l4XM499c.js";import"./Menu-ZUp_UOV4.js";function Ee(o){return oe("PrivateSwitchBase",o)}se("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const We=o=>{const{classes:r,checked:c,disabled:p,edge:t}=o,x={root:["root",c&&"checked",p&&"disabled",t&&`edge${H(t)}`],input:["input"]};return te(x,Ee,r)},He=U(ve)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:o,ownerState:r})=>o==="start"&&r.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:o,ownerState:r})=>o==="end"&&r.size!=="small",style:{marginRight:-12}}]}),Oe=U("input",{shouldForwardProp:fe})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ve=w.forwardRef(function(r,c){const{autoFocus:p,checked:t,checkedIcon:x,defaultChecked:i,disabled:d,disableFocusRipple:y=!1,edge:W=!1,icon:C,id:B,inputProps:F,inputRef:T,name:A,onBlur:L,onChange:P,onFocus:f,readOnly:j,required:I=!1,tabIndex:v,type:k,value:R,slots:O={},slotProps:$={},...z}=r,[M,a]=je({controlled:t,default:!!i,name:"SwitchBase",state:"checked"}),s=xe(),n=l=>{f&&f(l),s&&s.onFocus&&s.onFocus(l)},u=l=>{L&&L(l),s&&s.onBlur&&s.onBlur(l)},h=l=>{if(l.nativeEvent.defaultPrevented)return;const S=l.target.checked;a(S),P&&P(l,S)};let g=d;s&&typeof g>"u"&&(g=s.disabled);const q=k==="checkbox"||k==="radio",V={...r,checked:M,disabled:g,disableFocusRipple:y,edge:W},ae=We(V),ne={slots:O,slotProps:{input:F,...$}},[be,we]=_("root",{ref:c,elementType:He,className:ae.root,shouldForwardComponentProp:!0,externalForwardedProps:{...ne,component:"span",...z},getSlotProps:l=>({...l,onFocus:S=>{var E;(E=l.onFocus)==null||E.call(l,S),n(S)},onBlur:S=>{var E;(E=l.onBlur)==null||E.call(l,S),u(S)}}),ownerState:V,additionalProps:{centerRipple:!0,focusRipple:!y,disabled:g,role:void 0,tabIndex:null}}),[ye,Pe]=_("input",{ref:T,elementType:Oe,className:ae.input,externalForwardedProps:ne,getSlotProps:l=>({...l,onChange:S=>{var E;(E=l.onChange)==null||E.call(l,S),h(S)}}),ownerState:V,additionalProps:{autoFocus:p,checked:t,defaultChecked:i,disabled:g,id:q?B:void 0,name:A,readOnly:j,required:I,tabIndex:v,type:k,...k==="checkbox"&&R===void 0?{}:{value:R}}});return e.jsxs(be,{...we,children:[e.jsx(ye,{...Pe}),M?x:C]})}),qe=Z(e.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Ne=Z(e.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),De=Z(e.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function Ue(o){return oe("MuiCheckbox",o)}const X=se("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Ze=o=>{const{classes:r,indeterminate:c,color:p,size:t}=o,x={root:["root",c&&"indeterminate",`color${H(p)}`,`size${H(t)}`]},i=te(x,Ue,r);return{...r,...i}},Ge=U(Ve,{shouldForwardProp:o=>fe(o)||o==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:c}=o;return[r.root,c.indeterminate&&r.indeterminate,r[`size${H(c.size)}`],c.color!=="default"&&r[`color${H(c.color)}`]]}})(re(({theme:o})=>({color:(o.vars||o).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:ie(o.palette.action.active,o.palette.action.hoverOpacity)}}},...Object.entries(o.palette).filter(le()).map(([r])=>({props:{color:r,disableRipple:!1},style:{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette[r].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:ie(o.palette[r].main,o.palette.action.hoverOpacity)}}})),...Object.entries(o.palette).filter(le()).map(([r])=>({props:{color:r},style:{[`&.${X.checked}, &.${X.indeterminate}`]:{color:(o.vars||o).palette[r].main},[`&.${X.disabled}`]:{color:(o.vars||o).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),Je=e.jsx(Ne,{}),_e=e.jsx(qe,{}),Ke=e.jsx(De,{}),Qe=w.forwardRef(function(r,c){const p=ge({props:r,name:"MuiCheckbox"}),{checkedIcon:t=Je,color:x="primary",icon:i=_e,indeterminate:d=!1,indeterminateIcon:y=Ke,inputProps:W,size:C="medium",disableRipple:B=!1,className:F,slots:T={},slotProps:A={},...L}=p,P=d?y:i,f=d?y:t,j={...p,disableRipple:B,color:x,indeterminate:d,size:C},I=Ze(j),v=A.input??W,[k,R]=_("root",{ref:c,elementType:Ge,className:ee(I.root,F),shouldForwardComponentProp:!0,externalForwardedProps:{slots:T,slotProps:A,...L},ownerState:j,additionalProps:{type:"checkbox",icon:w.cloneElement(P,{fontSize:P.props.fontSize??C}),checkedIcon:w.cloneElement(f,{fontSize:f.props.fontSize??C}),disableRipple:B,slots:T,slotProps:{input:Ce(typeof v=="function"?v(j):v,{"data-indeterminate":d})}}});return e.jsx(k,{...R,classes:I})});function Ye(o){return oe("MuiFormControlLabel",o)}const D=se("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),Xe=o=>{const{classes:r,disabled:c,labelPlacement:p,error:t,required:x}=o,i={root:["root",c&&"disabled",`labelPlacement${H(p)}`,t&&"error",x&&"required"],label:["label",c&&"disabled"],asterisk:["asterisk",t&&"error"]};return te(i,Ye,r)},eo=U("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:c}=o;return[{[`& .${D.label}`]:r.label},r.root,r[`labelPlacement${H(c.labelPlacement)}`]]}})(re(({theme:o})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${D.disabled}`]:{cursor:"default"},[`& .${D.label}`]:{[`&.${D.disabled}`]:{color:(o.vars||o).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:r})=>r==="start"||r==="top"||r==="bottom",style:{marginLeft:16}}]}))),oo=U("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(re(({theme:o})=>({[`&.${D.error}`]:{color:(o.vars||o).palette.error.main}}))),so=w.forwardRef(function(r,c){const p=ge({props:r,name:"MuiFormControlLabel"}),{checked:t,className:x,componentsProps:i={},control:d,disabled:y,disableTypography:W,inputRef:C,label:B,labelPlacement:F="end",name:T,onChange:A,required:L,slots:P={},slotProps:f={},value:j,...I}=p,v=xe(),k=y??d.props.disabled??(v==null?void 0:v.disabled),R=L??d.props.required,O={disabled:k,required:R};["checked","name","onChange","value","inputRef"].forEach(h=>{typeof d.props[h]>"u"&&typeof p[h]<"u"&&(O[h]=p[h])});const $=ke({props:p,muiFormControl:v,states:["error"]}),z={...p,disabled:k,labelPlacement:F,required:R,error:$.error},M=Xe(z),a={slots:P,slotProps:{...i,...f}},[s,n]=_("typography",{elementType:b,externalForwardedProps:a,ownerState:z});let u=B;return u!=null&&u.type!==b&&!W&&(u=e.jsx(s,{component:"span",...n,className:ee(M.label,n==null?void 0:n.className),children:u})),e.jsxs(eo,{className:ee(M.root,x),ownerState:z,ref:c,...I,children:[w.cloneElement(d,O),R?e.jsxs("div",{children:[u,e.jsxs(oo,{ownerState:z,"aria-hidden":!0,className:M.asterisk,children:["â€‰","*"]})]}):u]})}),to=Z(e.jsx("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"})),ro=Z(e.jsx("path",{fillRule:"evenodd",d:"m9 17 3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m4.47 8.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z"})),mo=()=>{const o=Se(),{login:r}=Ie(),c=Re(),p=Fe(c.breakpoints.up("md")),[t,x]=w.useState({email:"",password:"",confirmPassword:""}),[i,d]=w.useState({}),[y,W]=w.useState(!1),[C,B]=w.useState(!1),[F,T]=w.useState(!1),[A,L]=w.useState(!1),[P,f]=w.useState({type:null,message:null}),j=(a,s)=>{let n="";switch(a){case"email":s.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(s)||(n="Please enter a valid email address (e.g., user@example.com)"):n="Email address is required";break;case"password":s?s.length<8?n="Password must be at least 8 characters long":/(?=.*[a-z])/.test(s)?/(?=.*[A-Z])/.test(s)?/(?=.*\d)/.test(s)||(n="Password must contain at least one number"):n="Password must contain at least one uppercase letter":n="Password must contain at least one lowercase letter":n="Password is required";break;case"confirmPassword":s?s!==t.password&&(n="Passwords do not match"):n="Please confirm your password";break}return n},I=a=>{const{name:s,value:n}=a.target;x(u=>({...u,[s]:n})),P.type==="error"&&f({type:null,message:null}),setTimeout(()=>{var h;if(((h=document.getElementsByName(s)[0])==null?void 0:h.value)===n){const g=j(s,n);d(g?q=>({...q,[s]:g}):q=>{const V={...q};return delete V[s],V})}},500),s==="password"&&t.confirmPassword&&setTimeout(()=>{const u=n!==t.confirmPassword?"Passwords do not match":"";d(u?h=>({...h,confirmPassword:u}):h=>{const g={...h};return delete g.confirmPassword,g})},500)},v=()=>{const a={};return Object.keys(t).forEach(s=>{const n=j(s,t[s]);n&&(a[s]=n)}),A||(a.terms="You must agree to the terms and conditions"),d(a),Object.keys(a).length===0},k=async a=>{var s,n;if(a.preventDefault(),!!v()){T(!0),f({type:null,message:null});try{const u=await pe.post("/api/auth/register",{email:t.email,password:t.password}),g=(await pe.post("/api/auth/login",{email:t.email,password:t.password})).data.token;f({type:"success",message:"Registration successful! Redirecting to dashboard..."}),setTimeout(()=>{r(g),o("/dashboard")},1500)}catch(u){f({type:"error",message:((n=(s=u.response)==null?void 0:s.data)==null?void 0:n.message)||u.message||"Registration failed"})}finally{T(!1)}}},R=()=>{W(!y)},O=()=>{B(!C)},$=a=>{let s=0;return a.length>=8&&s++,/(?=.*[a-z])/.test(a)&&s++,/(?=.*[A-Z])/.test(a)&&s++,/(?=.*\d)/.test(a)&&s++,/(?=.*[!@#$%^&*])/.test(a)&&s++,s},z=a=>{switch(a){case 1:case 2:return"error.main";case 3:return"warning.main";case 4:case 5:return"success.main";default:return"transparent"}},M=a=>{switch(a){case 0:return"";case 1:return"Very Weak";case 2:return"Weak";case 3:return"Fair";case 4:return"Strong";case 5:return"Very Strong";default:return""}};return e.jsxs(m,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #0a6cce, #6a00ea)",display:"flex",alignItems:"center",justifyContent:"center",py:{xs:4,md:0},position:"relative",overflow:"hidden"},children:[e.jsx(m,{sx:{position:"absolute",width:"100%",height:"100%",opacity:.05,background:"url(/pattern.png) repeat",zIndex:0}}),e.jsx(m,{sx:{position:"absolute",top:20,left:20,zIndex:2},children:e.jsx(G,{component:J,to:"/",startIcon:e.jsx(ze,{}),sx:{color:"white",fontWeight:500,"&:hover":{backgroundColor:"rgba(255,255,255,0.1)"}},children:"Back to Home"})}),e.jsx(Be,{maxWidth:"lg",sx:{zIndex:1,display:"flex",justifyContent:"center"},children:e.jsxs(Te,{elevation:24,sx:{display:"flex",flexDirection:{xs:"column",md:"row"},width:"100%",maxWidth:1e3,borderRadius:4,overflow:"hidden"},children:[p&&e.jsxs(m,{sx:{flex:"1 1 50%",background:"linear-gradient(135deg, #13294B, #01579B)",color:"#fff",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,position:"relative",overflow:"hidden"},children:[e.jsx(m,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.1,background:"url(/pattern.png) repeat"}}),e.jsx(m,{component:"img",src:"/logo.png",alt:"Logo",sx:{height:80,mb:4,position:"relative",zIndex:1}}),e.jsx(b,{variant:"h3",align:"center",sx:{fontWeight:700,mb:2,position:"relative",zIndex:1},children:"Join Our Community"}),e.jsx(b,{variant:"h6",align:"center",sx:{opacity:.8,mb:4,maxWidth:400,position:"relative",zIndex:1},children:"Create an account to access personalized health services and manage your prescriptions online."}),e.jsx(m,{component:"img",src:"/register-illustration.png",alt:"Pharmacy Illustration",sx:{maxWidth:"80%",maxHeight:220,position:"relative",zIndex:1}})]}),e.jsxs(m,{sx:{flex:"1 1 50%",p:{xs:3,sm:5},backgroundColor:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",maxHeight:{md:700},overflow:{md:"auto"}},children:[!p&&e.jsxs(m,{sx:{mb:4,textAlign:"center"},children:[e.jsx(m,{component:"img",src:"/logo.png",alt:"Logo",sx:{height:60,mb:2}}),e.jsx(b,{variant:"h4",fontWeight:700,color:"primary.main",children:"Create Account"}),e.jsx(b,{variant:"body2",color:"text.secondary",sx:{mt:1},children:"Join our healthcare community"})]}),P.type&&e.jsx($e,{type:P.type,message:P.message||"",onClose:()=>f({type:null,message:null}),isStatic:!0}),e.jsx(b,{variant:"h5",fontWeight:600,sx:{mb:3,display:{xs:"none",md:"block"}},children:"Create your account"}),e.jsx(m,{component:"form",onSubmit:k,noValidate:!0,children:e.jsxs(K,{spacing:2.5,children:[e.jsx(Y,{label:"Email Address",name:"email",type:"email",fullWidth:!0,variant:"outlined",InputProps:{startAdornment:e.jsx(N,{position:"start",children:e.jsx(Me,{color:"primary"})}),className:t.email?"filled-input":""},value:t.email,onChange:I,required:!0,error:!!i.email,helperText:i.email||"We'll send a confirmation email to this address",FormHelperTextProps:{sx:{opacity:i.email?1:.7}},onBlur:()=>{t.email&&d(a=>({...a,email:j("email",t.email)}))},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),e.jsxs(m,{children:[e.jsx(Y,{label:"Password",name:"password",type:y?"text":"password",fullWidth:!0,variant:"outlined",InputProps:{startAdornment:e.jsx(N,{position:"start",children:e.jsx(he,{color:"primary"})}),endAdornment:e.jsx(N,{position:"end",children:e.jsx(ce,{"aria-label":y?"Hide password":"Show password",onClick:R,edge:"end",children:y?e.jsx(ue,{}):e.jsx(me,{})})}),className:t.password?"filled-input":""},value:t.password,onChange:I,required:!0,error:!!i.password,helperText:i.password||"Use 8+ characters with a mix of letters, numbers & symbols",FormHelperTextProps:{sx:{opacity:i.password?1:.7}},onBlur:()=>{t.password&&d(a=>({...a,password:j("password",t.password)}))},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),t.password&&!i.password&&e.jsx(m,{sx:{mt:1,mb:1},children:e.jsxs(m,{sx:{display:"flex",alignItems:"center",mb:.5},children:[e.jsx(b,{variant:"caption",color:"text.secondary",sx:{mr:1},children:"Password strength:"}),e.jsx(m,{sx:{display:"flex",width:"100%",gap:.5},children:[...Array(4)].map((a,s)=>e.jsx(m,{sx:{height:4,flex:1,borderRadius:1,bgcolor:s<$(t.password)?z($(t.password)):"rgba(0,0,0,0.1)"}},s))}),e.jsx(b,{variant:"caption",sx:{ml:1,color:z($(t.password))},children:M($(t.password))})]})})]}),e.jsx(Y,{label:"Confirm Password",name:"confirmPassword",type:C?"text":"password",fullWidth:!0,variant:"outlined",InputProps:{startAdornment:e.jsx(N,{position:"start",children:e.jsx(he,{color:"primary"})}),endAdornment:e.jsx(N,{position:"end",children:e.jsx(ce,{"aria-label":C?"Hide confirmed password":"Show confirmed password",onClick:O,edge:"end",children:C?e.jsx(ue,{}):e.jsx(me,{})})}),className:t.confirmPassword?"filled-input":""},value:t.confirmPassword,onChange:I,required:!0,error:!!i.confirmPassword,helperText:i.confirmPassword||"Re-enter your password to confirm",FormHelperTextProps:{sx:{opacity:i.confirmPassword?1:.7}},onBlur:()=>{t.confirmPassword&&d(a=>({...a,confirmPassword:j("confirmPassword",t.confirmPassword)}))},sx:{"& .MuiOutlinedInput-root":{borderRadius:2}}}),e.jsx(so,{control:e.jsx(Qe,{checked:A,onChange:a=>L(a.target.checked),color:"primary"}),label:e.jsxs(b,{variant:"body2",children:["I agree to the"," ",e.jsx(Q,{component:J,to:"/terms",underline:"hover",children:"Terms of Service"})," ","and"," ",e.jsx(Q,{component:J,to:"/privacy",underline:"hover",children:"Privacy Policy"})]}),sx:{mt:1}}),i.terms&&e.jsx(b,{color:"error",variant:"caption",children:i.terms}),e.jsx(G,{fullWidth:!0,type:"submit",variant:"contained",size:"large",disabled:F,sx:{mt:2,borderRadius:28,py:1.5,fontWeight:600,fontSize:"1rem",boxShadow:"0 4px 10px rgba(0,0,0,0.15)",position:"relative"},endIcon:!F&&e.jsx(ro,{}),children:F?e.jsx(Ae,{}):"Create Account"}),e.jsxs(K,{direction:"row",alignItems:"center",spacing:2,sx:{my:2},children:[e.jsx(de,{sx:{flex:1}}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"or sign up with"}),e.jsx(de,{sx:{flex:1}})]}),e.jsxs(K,{direction:"row",spacing:2,sx:{mb:3},children:[e.jsx(G,{fullWidth:!0,variant:"outlined",startIcon:e.jsx(to,{}),sx:{borderRadius:2,py:1.25,color:"rgb(219, 68, 55)",borderColor:"rgba(219, 68, 55, 0.5)","&:hover":{borderColor:"rgb(219, 68, 55)",backgroundColor:"rgba(219, 68, 55, 0.04)"}},children:"Google"}),e.jsx(G,{fullWidth:!0,variant:"outlined",startIcon:e.jsx(Le,{}),sx:{borderRadius:2,py:1.25,color:"rgb(66, 103, 178)",borderColor:"rgba(66, 103, 178, 0.5)","&:hover":{borderColor:"rgb(66, 103, 178)",backgroundColor:"rgba(66, 103, 178, 0.04)"}},children:"Facebook"})]}),e.jsxs(b,{align:"center",sx:{color:"text.secondary"},children:["Already have an account?"," ",e.jsx(Q,{component:J,to:"/login",underline:"hover",sx:{color:"primary.main",fontWeight:600},children:"Sign in"})]})]})})]})]})})]})};export{mo as default};
